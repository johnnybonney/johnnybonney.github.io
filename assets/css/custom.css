/* ===================== GENERAL CLEANUP ===================== */
/* Hide hamburger + hidden menu */
.masthead .greedy-nav > button,
.greedy-nav__toggle,
.greedy-nav .hidden-links {
  display: none !important;
}

/* Hide dark-mode toggle */
#theme-toggle {
  display: none !important;
}

/* Hide “Follow” under photo + full footer block */
.author__urls-wrapper,
.page__footer,
.page__footer-follow,
.page__footer-copyright {
  display: none !important;
}

/* Keep site title on one line; size it nicely */
.masthead__menu-item.masthead__menu-item--lg a {
  font-size: 2rem !important;
  font-weight: 700 !important;
  letter-spacing: 0.5px;
  text-transform: none;
  white-space: nowrap !important;
}

/* ===================== SIDEBAR PHOTO ===================== */
/* Responsive, square headshot; centered */
.author__avatar {
  width: 100% !important;          /* fill sidebar width */
  max-width: 320px !important;     /* cap on mobile/tablet */
  aspect-ratio: 1 / 1;             /* keep square */
  margin: 0 auto 12px auto !important;
  display: block !important;
  overflow: hidden !important;
  border-radius: 0 !important;     /* 50% = circle if you ever want it */
  text-align: center;
}

.author__avatar img,
img.author__avatar {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
  border-radius: 0 !important;
  display: block !important;
  margin: 0 auto !important;
}

.photo-credit {
  font-size: 0.65rem;    /* slightly larger than before, still subtle */
  color: #777;
  text-align: center;
  margin-top: 4px;
}

/* ===================== ABSTRACT DROPDOWNS ===================== */
.page__content details {
  margin-top: 0 !important;
  margin-bottom: 1rem;
}
.page__content p + details {
  margin-top: 0.25rem !important;
}
@supports selector(:has(*)) {
  .page__content p:has(+ details) {
    margin-bottom: 0.25rem !important;
  }
}
.page__content details summary {
  padding: 0.2rem 0;
  cursor: pointer;
  font-weight: 600;
}

/* ===================== DESKTOP LAYOUT & BIGGER PHOTO ===================== */

/* === Desktop: widen the sidebar so the larger photo fits === */
@media (min-width: 1024px) {
  /* Make the sidebar wider on single-page layout */
  .layout--single .sidebar,
  .layout--single .sidebar.sticky {
    flex: 0 0 420px !important;   /* was ~300px */
    max-width: 420px !important;
    width: 420px !important;
  }

  /* Size the avatar *within* that wider sidebar */
  .layout--single .sidebar .avatar--xl {
    width: 100% !important;       /* fill sidebar column */
    max-width: 380px !important;  /* keep a little gutter */
    height: auto !important;
    aspect-ratio: 1 / 1;
    margin: 0 auto 12px auto !important;
    overflow: hidden !important;
  }
  .layout--single .sidebar .avatar--xl img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    object-position: center !important;
    display: block !important;
  }
}